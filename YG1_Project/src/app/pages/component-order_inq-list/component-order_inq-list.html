<!-- <p-table [columns]="cols" [value]="cars" dataKey="orderNum">

    <ng-template pTemplate="rowexpansion" let-rowData let-columns="columns">
        <tr>
            <td [attr.colspan]="columns.length + 1">
                <p-table [columns]="cols2" [value]="cars2">
                    <ng-template pTemplate="header" let-columns>
        <tr>
            <th *ngFor="let col of columns">
                {{col.header}}
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-subRowData let-columns="columns">
        <tr>
            <td *ngFor="let col of columns">
                {{subRowData[col.field]}}
            </td>
        </tr>
    </ng-template>
</p-table>
</td>
</tr>
</ng-template>

<ng-template pTemplate="header" let-columns>
    <tr>
        <th style="width: 2.25em"></th>
        <th *ngFor="let col of columns">
            {{col.header}}
        </th>
    </tr>
</ng-template>

<ng-template pTemplate="body" let-rowData let-expanded="expanded" let-columns="columns">
    <tr>
        <td>
            <a href="#" [pRowToggler]="rowData">
                <i [ngClass]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></i>
            </a>
        </td>
        <td *ngFor="let col of columns">
            {{rowData[col.field]}}
        </td>
    </tr>
</ng-template>
</p-table>

<br>
<br>
<br>
<br> -->


<!-- <form class="date-block" [formGroup]="filterForm">
        <div class="date-block__list">
        <mat-form-field>
          <input matInput 
            [matDatepicker]="fromDate" 
            placeholder="From Date" 
            formControlName="fromDate">
          <mat-datepicker-toggle matSuffix [for]="fromDate"></mat-datepicker-toggle>
          <mat-datepicker #fromDate></mat-datepicker>
        </mat-form-field>
      </div>
          <div class="date-block__list">
        <mat-form-field>
          <input matInput 
            [matDatepicker]="toDate" 
            placeholder="To Date" 
            formControlName="toDate">
          <mat-datepicker-toggle matSuffix [for]="toDate"></mat-datepicker-toggle>
          <mat-datepicker #toDate></mat-datepicker>
        </mat-form-field>
      </div>
       <button mat-button color="primary" class="primary" (click)="applyFilter3()">Submit</button>
    </form> -->

<div>
    <mat-form-field class="filter" floatLabel="never" placeholder="GlobalFilter">
        <mat-label>
            {{'globalFilter' | translate:param }}
        </mat-label>
        <input matInput [formControl]="globalFilter">
    </mat-form-field>
</div>

<table mat-table [dataSource]="dataSource" multiTemplateDataRows matSort>
    <ng-container matColumnDef="orderNum">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'orderNo.' | translate:param }}</th>
        <td mat-cell *matCellDef="let element">
            {{element.orderNum}}
        </td>
    </ng-container>

    <ng-container matColumnDef="orderDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'orderDate' | translate:param }}</th>
        <td mat-cell *matCellDef="let element">
            <p>{{element.orderDate}}</p>{{element.orderTime}}
        </td>
    </ng-container>


    <ng-container matColumnDef="orderEA">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'subtotalQty' | translate:param }}</th>
        <td mat-cell *matCellDef="let element"> {{element.orderEA}} </td>
    </ng-container>

    <ng-container matColumnDef="orderPrice">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'subtotalPrice' | translate:param }}</th>
        <td mat-cell *matCellDef="let element"> {{element.orderPrice}} </td>
    </ng-container>


    <ng-container matColumnDef="orderState">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'orderStatus' | translate:param }}</th>
        <td mat-cell *matCellDef="let element">
            <p> {{element.orderState}} </p>
        </td>
    </ng-container>

    <ng-container matColumnDef="orderMsg">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'orderRemark' | translate:param }}</th>
        <td mat-cell *matCellDef="let element"> <input type="hidden" value="{{element.orderMsg}}" #message>
            <p class="test_web">{{element.orderMsg}}</p>
            <!-- <button class="test_mobile" mat-icon-button color="primary" (click)="openSnackBar(message.value)">
                <mat-icon>comment</mat-icon>
            </button> -->
        </td>
    </ng-container>

    <ng-container matColumnDef="a-description">
        <th mat-header-cell *matHeaderCellDef>
            <mat-form-field class="filter" floatLabel="never">
                <mat-label>
                    <mat-icon>search</mat-icon>
                </mat-label>
                <input matInput [formControl]="orderNumFilter">
            </mat-form-field>
        </th>
    </ng-container>
    <ng-container matColumnDef="b-description">
        <th mat-header-cell *matHeaderCellDef>
            <!-- <mat-form-field>
                <input matInput [matDatepicker]="date" formControlName="orderDateFilter">
                <mat-datepicker-toggle matSuffix [for]="date"></mat-datepicker-toggle>
                <mat-datepicker #date></mat-datepicker>
            </mat-form-field> -->
            <mat-form-field class="filter" floatLabel="never">
                <mat-label>
                    <mat-icon>search</mat-icon>
                </mat-label>
                <input matInput [formControl]="orderDateFilter">
            </mat-form-field>
        </th>
    </ng-container>
    <ng-container matColumnDef="c-description">
        <th mat-header-cell *matHeaderCellDef>
            <mat-form-field class="filter" floatLabel="never">
                <mat-label>
                    <mat-icon>search</mat-icon>
                </mat-label>
                <input matInput [formControl]="orderEAFilter">
            </mat-form-field>
        </th>
    </ng-container>
    <ng-container matColumnDef="d-description">
        <th mat-header-cell *matHeaderCellDef>
            <mat-form-field class="filter" floatLabel="never">
                <mat-label>
                    <mat-icon>search</mat-icon>
                </mat-label>
                <input matInput [formControl]="orderPriceFilter">
            </mat-form-field>
        </th>
    </ng-container>
    <ng-container matColumnDef="e-description">
        <th mat-header-cell *matHeaderCellDef>
            <mat-form-field class="filter" floatLabel="never">
                <mat-label>
                    <mat-icon>search</mat-icon>
                </mat-label>
                <input matInput [formControl]="orderStateFilter">
            </mat-form-field>
        </th>
    </ng-container>
    <ng-container matColumnDef="f-description">
        <th mat-header-cell *matHeaderCellDef>
            <mat-form-field class="filter" floatLabel="never">
                <mat-label>
                    <mat-icon>search</mat-icon>
                </mat-label>
                <input matInput [formControl]="orderMsgFilter">
            </mat-form-field>
        </th>
    </ng-container>




    <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
    <ng-container matColumnDef="expandedDetail">
        <ng-container matColumnDef="expandedDetail">
            <td mat-cell *matCellDef="let element;" [attr.colspan]="displayedColumns.length">
                <div class="example-element-detail"
                    [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
                    <table mat-table matTableExporter class="sub_table" [dataSource]="element.children"
                        #exporter="matTableExporter">
                        <ng-container matColumnDef="edpNo">
                            <th mat-header-cell *matHeaderCellDef>{{'productEdp' | translate:param }}</th>
                            <td mat-cell *matCellDef="let element">{{element.edpNo}}</td>
                        </ng-container>

                        <ng-container matColumnDef="itemNo">
                            <th mat-header-cell *matHeaderCellDef>{{'itemNo' | translate:param }}</th>
                            <td mat-cell *matCellDef="let element">{{element.itemNo}}</td>
                        </ng-container>


                        <ng-container matColumnDef="productName">
                            <th mat-header-cell *matHeaderCellDef>{{'productName' | translate:param }}</th>
                            <td mat-cell *matCellDef="let element"> {{element.productName}} </td>
                        </ng-container>

                        <ng-container matColumnDef="size">
                            <th mat-header-cell *matHeaderCellDef>{{'productSize' | translate:param }}</th>
                            <td mat-cell *matCellDef="let element"> {{element.size}} </td>
                        </ng-container>


                        <ng-container matColumnDef="msg">
                            <th mat-header-cell *matHeaderCellDef>{{'orderRemark' | translate:param }}</th>
                            <td mat-cell *matCellDef="let element">
                                {{element.msg}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="orderPrice">
                            <th mat-header-cell *matHeaderCellDef>{{'totalPrice' | translate:param }}</th>
                            <td mat-cell *matCellDef="let element"> {{element.orderPrice}} </td>
                        </ng-container>
                        <ng-container matColumnDef="orderEA">
                            <th mat-header-cell *matHeaderCellDef>{{'totalQty' | translate:param }}</th>
                            <td mat-cell *matCellDef="let element"> {{element.orderEA}} </td>
                        </ng-container>
                        <ng-container matColumnDef="exportPrice">
                            <th mat-header-cell *matHeaderCellDef>{{'shipmentPrice' | translate:param }}</th>
                            <td mat-cell *matCellDef="let element"> {{element.exportPrice}} </td>
                        </ng-container>
                        <ng-container matColumnDef="exportEA">
                            <th mat-header-cell *matHeaderCellDef>{{'shipmentQty' | translate:param }}</th>
                            <td mat-cell *matCellDef="let element"> {{element.exportEA}} </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>

                    </table>

                    <button mat-button color="primary"
                        (click)="exporter.exportTable('xlsx', {fileName: 'OrderNum' + element.orderNum})">Excel
                        Download</button>
                </div>
            </td>
        </ng-container>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-header-row
        *matHeaderRowDef="['a-description', 'b-description', 'c-description', 'd-description', 'e-description', 'f-description']">
    </tr>
    <tr mat-row *matRowDef="let element; columns: displayedColumns;" class="example-element-row"
        [class.example-expanded-row]="expandedElement === element" (click)="expandedElement = element">
    </tr>
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']; " class="example-detail-row"></tr>
</table>